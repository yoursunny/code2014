AlbumPlayer相册播放器
JavaScript


prettify
<script type="text/javascript">//<![CDATA[
//As of Prototype 1.6, the complete Position object has been deprecated in favor of methods on the Element object.
var Position={includeScrollOffsets:false,prepare:function(){this.deltaX=window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0;this.deltaY=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0;},within:function(element,x,y){if(this.includeScrollOffsets)
return this.withinIncludingScrolloffsets(element,x,y);this.xcomp=x;this.ycomp=y;this.offset=Element.cumulativeOffset(element);return(y>=this.offset[1]&&y<this.offset[1]+element.offsetHeight&&x>=this.offset[0]&&x<this.offset[0]+element.offsetWidth);},withinIncludingScrolloffsets:function(element,x,y){var offsetcache=Element.cumulativeScrollOffset(element);this.xcomp=x+offsetcache[0]-this.deltaX;this.ycomp=y+offsetcache[1]-this.deltaY;this.offset=Element.cumulativeOffset(element);return(this.ycomp>=this.offset[1]&&this.ycomp<this.offset[1]+element.offsetHeight&&this.xcomp>=this.offset[0]&&this.xcomp<this.offset[0]+element.offsetWidth);},overlap:function(mode,element){if(!mode)return 0;if(mode=='vertical')
return((this.offset[1]+element.offsetHeight)-this.ycomp)/element.offsetHeight;if(mode=='horizontal')
return((this.offset[0]+element.offsetWidth)-this.xcomp)/element.offsetWidth;},cumulativeOffset:Element.Methods.cumulativeOffset,positionedOffset:Element.Methods.positionedOffset,absolutize:function(element){Position.prepare();return Element.absolutize(element);},relativize:function(element){Position.prepare();return Element.relativize(element);},realOffset:Element.Methods.cumulativeScrollOffset,offsetParent:Element.Methods.getOffsetParent,page:Element.Methods.viewportOffset,clone:function(source,target,options){options=options||{};return Element.clonePosition(target,source,options);}};
// /lib/9/ doesn't contain deprecated part of Prototype.js, but AlbumPlayer needs them
//]]></script>
<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/scriptaculous/1.8.1/scriptaculous.js?load=builder,effects"></script>
<script type="text/javascript" src="album_player.js"></script>

<p>一个JavaScript类库，用于动态显示相册，支持多种转场效果<br />
<a href="AlbumPlayer.zip" onclick="c('AlbumPlayer.zip')">下载AlbumPlayer</a></p>
<h3>AlbumPlayer效果演示</h3>
<div id="album"></div>
<script type="text/javascript">//<![CDATA[
var my_player=new AlbumPlayer('album',500,375,'#FFFFFF');
my_player.add('http://tu.6.cn/img/id/83b46b8d5a40e7795a9fc9a8d81e5e86',640,480,3000,'fade');
my_player.add('http://tu.6.cn/img/id/37a92ef45a1b5971b4868e5ba5226245',640,480,1100,'dropout');
my_player.add('http://tu.6.cn/img/id/43b6c5d31d589e3c036493db2be0adb8',500,375,1600,'shrink');
my_player.add('http://tu.6.cn/img/id/077d4c40d58b8bda74f920e76732bb00',480,640,500,'appear');
my_player.add('http://tu.6.cn/img/id/c0f1cab958fb3dbc68284637d4849a30',1024,768,2100,'blindup');
my_player.add('http://tu.6.cn/img/id/56eb1382393cc6b4115df56e1b7497a4',400,300,4000,'slidedown');
my_player.start();
//]]></script>
<h3>AlbumPlayer调用代码：</h3>
<pre>
<code class="prettyprint lang-html">&lt;head&gt;
&lt;!--相册播放器要求使用Prototype和Script.aculo.us两个类库--&gt;
&lt;script type=&quot;text/javascript&quot; src=&quot;prototype.js&quot;&gt;&lt;/script&gt;
&lt;script type=&quot;text/javascript&quot; 
  src=&quot;scriptaculous.js?load=builder,effects&quot;&gt;&lt;/script&gt;
&lt;!--导入相册播放器的JS文件--&gt;
&lt;script type=&quot;text/javascript&quot; src=&quot;album_player.js&quot;&gt;&lt;/script&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;!--这个div是相册的容器--&gt;
&lt;div id=&quot;album&quot;&gt;&lt;/div&gt;
&lt;script type=&quot;text/javascript&quot;&gt;</code><code class="prettyprint lang-js">//&lt;[CDATA[
//创建对象，四个参数依次为：相册容器id，宽度，高度，背景色
var my_player=new AlbumPlayer('album',500,375,'#FFFFFF');
//添加照片，五个参数依次为：照片URI，宽度，高度，显示时间(毫秒)，转场效果
//大照片会缩小，小照片不会放大
my_player.add('photo1.jpg',640,480,3000,'fade');
my_player.add('photo2.jpg',640,480,1100,'dropout');
my_player.add('photo3.jpg',500,375,1600,'shrink');
my_player.add('photo4.jpg',480,640,500,'appear');
my_player.add('photo5.jpg',1024,768,2100,'blindup');
my_player.add('photo6.jpg',400,300,4000,'slidedown');
//启动相册播放，不要漏掉这行
my_player.start();
//]]&gt;</code><code class="prettyprint lang-html">&lt;/script&gt;
&lt;/body&gt;</code>
</pre>
<!-- sidebar -->
<p>当前版本号：<br />
<script type="text/javascript">document.write(AlbumPlayer.version);</script></p>
<p>支持的转场效果：</p>
<script type="text/javascript">//<![CDATA[
document.write('<ul><li>'+AlbumPlayer.effects.join('</li><li>')+'</li></ul>');
//]]></script>